<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/VTATemplate.xhtml">

    <ui:define name="top"><h1><b>${bundle.HeaderTemplate}</b></h1><br/>#{bundle.PrototypeMessage}</ui:define> 
    <ui:define name="content">
        
          <h:form>
            <h:dataTable id="packagesbycity"
                         value="#{dbManagerBean.packagesByCity}"
                         var="pack"
                         headerClass="list-header"
                         styleClass="list-background"
                         rowClasses="list-row-even, list-row-odd"
                         border="1">
                
                <h:column>
                   <f:facet name="header">
                        <h:outputText value="#{bundle.Name}"/>
                    </f:facet>
                    <h:outputText value="#{pack.name}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.Price}"/>
                    </f:facet>
                    <h:outputText value="#{pack.price}">
                        <f:convertNumber currencySymbol="$" type="currency"/>
                    </h:outputText>
                </h:column>
                
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.Description}"/>
                    </f:facet>
                    <h:outputText value="#{pack.description}" />                       
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.City}" />
                    </f:facet>
                    <h:outputText value="#{pack.city}"/>
                </h:column>

                <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundle.Details}" />
                        </f:facet>                    
                            <h:commandLink id="Details" action="details">
                                <h:outputText value="#{bundle.SubDetails}" />
                                <f:setPropertyActionListener target="#{sessionScope.pack}" value="#{pack}"/>
                            </h:commandLink>                      
                </h:column>
            </h:dataTable>
              <div id="packmenu2" class="packmenu2">
              <h:commandLink id="packmenu2" action="index">
                  <h:outputText value="#{bundle.Back}" />
                </h:commandLink>
              </div>
        </h:form>
        <div class="messagecolor">
            <h:messages showSummary="true" 
                        showDetail="false"
                        errorStyle="color: #d20005" 
                        infoStyle="color: blue"/>
        </div>
    </ui:define>
</ui:composition>

