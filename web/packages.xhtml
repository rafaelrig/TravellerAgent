<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>       
        <title>Facelet Title</title>
        <h:outputStylesheet library="css" name="stylesheet.css"/>
    </h:head>
    <h:body>        
        <div class="ui-g" style="background-color: crimson">
            <div class="ui-g-12" style="text-align: center">
                <h1>Virtual Traveller Agent</h1>
                    <p>
                        #{bundle.HeaderTemplate}
                    </p>
                    <p>
                        #{bundle.PrototypeMessage}
                  </p>
            </div>
        </div>
        <div class="ui-g"">
            <div class="ui-g-12" style="text-align: center">
              <h:form>
                <h:dataTable id="packages"
                             value="#{dbManagerBean.packagesByCategory}"
                             var="pack"
                             headerClass="list-header"
                             styleClass="list-background"
                             rowClasses="list-row-even, list-row-odd"
                             border="1">                
                  <h:column>
                     <f:facet name="header">
                          <h:outputText value="#{bundle.Name}"/>
                      </f:facet>
                      <h:outputText value="#{pack.name}"/>
                  </h:column>

                  <h:column>
                      <f:facet name="header">
                          <h:outputText value="#{bundle.Price}"/>
                      </f:facet>
                      <h:outputText value="#{pack.price}">
                          <f:convertNumber currencySymbol="$" type="currency"/>
                      </h:outputText>
                  </h:column>

                  <h:column>
                      <f:facet name="header">
                          <h:outputText value="#{bundle.Description}"/>
                      </f:facet>
                      <h:outputText value="#{pack.description}" />                       
                  </h:column>

                  <h:column>
                      <f:facet name="header">
                          <h:outputText value="#{bundle.City}" />
                      </f:facet>
                      <h:outputText value="#{pack.city}"/>
                  </h:column>

                  <h:column>
                          <f:facet name="header">
                              <h:outputText value="#{bundle.Details}" />
                          </f:facet>                    
                              <h:commandLink id="Details" action="details">
                                  <h:outputText value="#{bundle.SubDetails}" />
                                  <f:setPropertyActionListener target="#{sessionScope.pack}" value="#{pack}"/>
                              </h:commandLink>                      
                  </h:column>                    
              </h:dataTable>
              <div id="packmenu" class="backmenu">
              <h:commandLink id="Home" action="index">
                  <h:outputText value="#{bundle.Back}" />
                </h:commandLink>
              </div>
          </h:form>
          <div class="messagecolor">
              <h:messages showSummary="true" 
                          showDetail="false"
                          errorStyle="color: #d20005" 
                          infoStyle="color: blue"/>
         </div>
       </div>                                         
    </h:body>
</html>

